{% extends 'base.html' %}

{% block content %}

<h2 class="text-4xl font-bold text-red-400 mb-6">
    House Alliance Network
</h2>

<div id="cy" class="h-[700px] bg-gray-800 rounded-lg"></div>

<script src="https://unpkg.com/cytoscape/dist/cytoscape.min.js"></script>

<script>
    var graphData = {{ graph_data|safe }};

    var cy = cytoscape({
        container: document.getElementById('cy'),
        elements: [...graphData.nodes, ...graphData.edges],

        style: [
            {
                selector: 'node',
                style: {
                    'background-color': '#ef4444',
                    'label': 'data(label)',
                    'color': '#fff'
                }
            },
            {
                selector: 'edge[label="Marriage"]',
                style: {
                    'line-color': '#facc15',
                    'width': 3
                }
            },
            {
                selector: 'edge[label="Event"]',
                style: {
                    'line-color': '#3b82f6',
                    'width': 2
                }
            }
        ],

        layout: {
            name: 'cose'
        }
    });
</script>

{% endblock %}
